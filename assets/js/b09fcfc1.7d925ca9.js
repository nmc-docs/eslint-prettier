"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[967],{7626:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var i=t(4848),s=t(8453);const r={sidebar_position:1},l="NextJS",o={id:"setting/nextjs-setup",title:"NextJS",description:"C\xe0i \u0111\u1eb7t dev dependencies",source:"@site/docs/setting/nextjs-setup.md",sourceDirName:"setting",slug:"/setting/nextjs-setup",permalink:"/eslint-prettier/setting/nextjs-setup",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"C\xe0i \u0111\u1eb7t",permalink:"/eslint-prettier/category/c\xe0i-\u0111\u1eb7t"},next:{title:"React Vite",permalink:"/eslint-prettier/setting/react-vite-setup"}},c={},a=[{value:"C\xe0i \u0111\u1eb7t dev dependencies",id:"c\xe0i-\u0111\u1eb7t-dev-dependencies",level:2},{value:"File <code>eslint.config.mjs</code>",id:"file-eslintconfigmjs",level:2},{value:"File <code>.prettierrc.json</code>",id:"file-prettierrcjson",level:2},{value:"File <code>.prettierignore</code>",id:"file-prettierignore",level:2},{value:"File <code>.lintstagedrc.mjs</code>",id:"file-lintstagedrcmjs",level:2},{value:"C\u1eadp nh\u1eadt script trong package.json",id:"c\u1eadp-nh\u1eadt-script-trong-packagejson",level:2},{value:"C\xe0i \u0111\u1eb7t Husky",id:"c\xe0i-\u0111\u1eb7t-husky",level:2}];function d(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"nextjs",children:"NextJS"})}),"\n",(0,i.jsx)(e.h2,{id:"c\xe0i-\u0111\u1eb7t-dev-dependencies",children:"C\xe0i \u0111\u1eb7t dev dependencies"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"npm install -D eslint eslint-config-next eslint-config-prettier @eslint/eslintrc @types/eslint__eslintrc @eslint/js eslint-config-next eslint-plugin-import eslint-import-resolver-typescript eslint-plugin-simple-import-sort eslint-plugin-unused-imports typescript-eslint prettier eslint-config-prettier eslint-plugin-prettier lint-staged\n"})}),"\n",(0,i.jsxs)(e.admonition,{type:"note",children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"N\u1ebfu d\xf9ng TailwindCSS, c\xe0i th\xeam:"}),"\n"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"npm install -D eslint-plugin-tailwindcss @types/eslint-plugin-tailwindcss prettier-plugin-tailwindcss\n"})})]}),"\n",(0,i.jsxs)(e.h2,{id:"file-eslintconfigmjs",children:["File ",(0,i.jsx)(e.code,{children:"eslint.config.mjs"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",metastring:'title="eslint.config.mjs"',children:'import { FlatCompat } from "@eslint/eslintrc";\nimport eslint from "@eslint/js";\nimport eslintPluginPrettierRecommended from "eslint-plugin-prettier/recommended";\nimport simpleImportSort from "eslint-plugin-simple-import-sort";\nimport tailwind from "eslint-plugin-tailwindcss";\nimport unusedImports from "eslint-plugin-unused-imports";\nimport { dirname } from "path";\nimport tseslint, { configs as tsEslintConfigs } from "typescript-eslint";\nimport { fileURLToPath } from "url";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n});\n\nconst eslintConfig = tseslint.config(\n  eslint.configs.recommended,\n  eslintPluginPrettierRecommended,\n  { ignores: [".next/**/*", "node_modules/**/*"] },\n  {\n    files: ["src/**/*.{ts,tsx}", "eslint.config.mjs"],\n    plugins: {\n      "simple-import-sort": simpleImportSort,\n      "unused-imports": unusedImports,\n    },\n    extends: [\n      ...tsEslintConfigs.recommendedTypeChecked,\n      ...tailwind.configs["flat/recommended"],\n      ...compat.extends("next/core-web-vitals", "next/typescript"),\n      ...compat.extends(\n        "plugin:import/recommended",\n        "plugin:import/typescript"\n      ),\n    ],\n    languageOptions: {\n      ecmaVersion: "latest",\n      sourceType: "module",\n      parserOptions: {\n        projectService: true,\n        tsconfigRootDir: import.meta.dirname,\n      },\n    },\n    settings: {\n      react: {\n        version: "detect",\n      },\n      "import/resolver": {\n        node: {\n          paths: ["./src"],\n          extensions: [".js", ".jsx", ".ts", ".tsx", ".css", ".scss", ".json"],\n        },\n        typescript: {\n          project: "./tsconfig.json",\n        },\n      },\n    },\n    rules: {\n      "prettier/prettier": "error",\n      "no-unused-vars": "off",\n      "no-empty": "off",\n      "no-console": "off",\n      "@typescript-eslint/no-unused-vars": [\n        "error",\n        {\n          args: "all",\n          argsIgnorePattern: "^_",\n          caughtErrors: "all",\n          caughtErrorsIgnorePattern: "^_",\n          destructuredArrayIgnorePattern: "^_",\n          varsIgnorePattern: "^_",\n          ignoreRestSiblings: true,\n        },\n      ],\n      "@typescript-eslint/consistent-type-exports": "error",\n      "@typescript-eslint/no-explicit-any": "off",\n      "@typescript-eslint/no-empty-object-type": "off",\n      "@typescript-eslint/no-restricted-imports": [\n        "error",\n        { patterns: ["../*"] },\n      ],\n      "simple-import-sort/imports": [\n        "error",\n        {\n          groups: [["^(?!\\\\.)"], ["^\\\\u0000", "^\\\\.", "^src/"]],\n        },\n      ],\n      "simple-import-sort/exports": "error",\n      "import/newline-after-import": "error",\n      "unused-imports/no-unused-imports": "error",\n      "@next/next/no-async-client-component": "error",\n    },\n  }\n  /* C\u1ea5u h\xecnh th\xeam ESLint, Plugin cho c\xe1c file, th\u01b0 m\u1ee5c kh\xe1c. C\u1ea5u tr\xfac nh\u01b0 object b\xean tr\xean */\n);\n\nexport default eslintConfig;\n'})}),"\n",(0,i.jsxs)(e.h2,{id:"file-prettierrcjson",children:["File ",(0,i.jsx)(e.code,{children:".prettierrc.json"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",metastring:'title=".prettierrc.json"',children:'{\n  "printWidth": 80,\n  "tabWidth": 2,\n  "useTabs": false,\n  "semi": true,\n  "singleQuote": true,\n  "quoteProps": "as-needed",\n  "jsxSingleQuote": false,\n  "trailingComma": "none",\n  "bracketSameLine": false,\n  "arrowParens": "always",\n  "insertPragma": false,\n  "proseWrap": "preserve",\n  "htmlWhitespaceSensitivity": "css",\n  "embeddedLanguageFormatting": "auto",\n  "bracketSpacing": true,\n  "requirePragma": false,\n  "endOfLine": "auto"\n}\n'})}),"\n",(0,i.jsxs)(e.h2,{id:"file-prettierignore",children:["File ",(0,i.jsx)(e.code,{children:".prettierignore"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-plaintext",metastring:'title=".prettierignore"',children:"node_modules\nbuild\ndist\n.next\n.idea\npackage-lock.json\n"})}),"\n",(0,i.jsxs)(e.h2,{id:"file-lintstagedrcmjs",children:["File ",(0,i.jsx)(e.code,{children:".lintstagedrc.mjs"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",metastring:'title=".lintstagedrc.mjs"',children:'export default {\n  "*": () => [\n    "prettier --write .",\n    "npm run type-check",\n    "eslint --fix --max-warnings=0 --no-warn-ignored",\n    "git add .",\n  ],\n};\n'})}),"\n",(0,i.jsx)(e.admonition,{type:"info",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["C\xe1c b\u01b0\u1edbc m\xe0 lint staged s\u1ebd l\xe0m tr\u01b0\u1edbc khi commit:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"prettier --write ."}),": Ch\u1ea1y format tr\xean t\u1ea5t c\u1ea3 c\xe1c file (ngo\u1ea1i tr\u1eeb nh\u1eefng file \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh trong ",(0,i.jsx)(e.strong,{children:".prettierignore"}),")."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"npm run type-check"}),": Th\u1ef1c hi\u1ec7n ki\u1ec3m tra xem c\xf3 l\u1ed7i type hay kh\xf4ng t\u1eeb c\xe1c file ",(0,i.jsx)(e.strong,{children:".ts"}),", ",(0,i.jsx)(e.strong,{children:".tsx"})," \u0111\u01b0\u1ee3c ",(0,i.jsx)(e.code,{children:"include"})," trong ",(0,i.jsx)(e.strong,{children:"tsconfig.json"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"eslint --fix --max-warnings=0 --no-warn-ignored"}),": Ch\u1ea1y ESLint ki\u1ec3m tra c\xe1c l\u1ed7i li\xean quan \u0111\u1ebfn linter, bao g\u1ed3m c\u1ea3 warning."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"git add ."}),": N\u1ebfu ESLint c\xf3 th\u1ec3 t\u1ef1 fix \u0111\u01b0\u1ee3c c\xe1c l\u1ed7i li\xean quan \u0111\u1ebfn linter, sau khi fix s\u1ebd t\u1ef1 \u0111\u1ed9ng th\xeam l\u1ea1i c\xe1c file v\xe0o stage area trong Git."]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(e.h2,{id:"c\u1eadp-nh\u1eadt-script-trong-packagejson",children:"C\u1eadp nh\u1eadt script trong package.json"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "MyProject",\n  "version": "0.1.0",\n  "private": true,\n  "scripts": {\n    "dev": "next dev",\n    "build": "next build",\n    "start": "next start",\n    "lint": "next lint --fix",\n    "format": "prettier --write .",\n    "type-check": "tsc --noEmit",\n    "prepare": "husky install"\n  }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"c\xe0i-\u0111\u1eb7t-husky",children:"C\xe0i \u0111\u1eb7t Husky"}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsx)(e.p,{children:"L\u01b0u \xfd: tr\u01b0\u1edbc khi c\xe0i \u0111\u1eb7t, \u0111\u1ea3m b\u1ea3o r\u1eb1ng d\u1ef1 \xe1n c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi m\u1ed9t repository tr\xean Github ho\u1eb7c Gitlab"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"M\u1edf Git bash v\xe0 g\xf5 l\u1ec7nh sau:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"npx husky-init && npm install\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Trong file ",(0,i.jsx)(e.strong,{children:"pre-commit"})," thu\u1ed9c th\u01b0 m\u1ee5c ",(0,i.jsx)(e.strong,{children:".husky"})," \u0111\u01b0\u1ee3c t\u1ea1o ra:"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",metastring:'title=".husky\\pre-commit"',children:'#!/usr/bin/env sh\n. "$(dirname -- "$0")/_/husky.sh"\n\nnpx lint-staged\n'})})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function l(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);