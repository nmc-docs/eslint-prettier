"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[915],{7521:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"setting/nestjs-setup","title":"NestJS","description":"C\xe0i \u0111\u1eb7t dev dependencies","source":"@site/docs/setting/nestjs-setup.md","sourceDirName":"setting","slug":"/setting/nestjs-setup","permalink":"/eslint-prettier/setting/nestjs-setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"React Native","permalink":"/eslint-prettier/setting/react-native-setup"}}');var i=t(4848),r=t(8453);const o={sidebar_position:4},l="NestJS",c={},a=[{value:"C\xe0i \u0111\u1eb7t dev dependencies",id:"c\xe0i-\u0111\u1eb7t-dev-dependencies",level:2},{value:"File <code>eslint.config.mjs</code>",id:"file-eslintconfigmjs",level:2},{value:"File <code>.prettierrc.json</code>",id:"file-prettierrcjson",level:2},{value:"File <code>.prettierignore</code>",id:"file-prettierignore",level:2},{value:"File <code>.lintstagedrc.mjs</code>",id:"file-lintstagedrcmjs",level:2},{value:"C\u1eadp nh\u1eadt script trong package.json",id:"c\u1eadp-nh\u1eadt-script-trong-packagejson",level:2},{value:"C\xe0i \u0111\u1eb7t Husky",id:"c\xe0i-\u0111\u1eb7t-husky",level:2}];function p(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"nestjs",children:"NestJS"})}),"\n",(0,i.jsx)(n.h2,{id:"c\xe0i-\u0111\u1eb7t-dev-dependencies",children:"C\xe0i \u0111\u1eb7t dev dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install -D eslint @eslint/eslintrc @types/eslint__eslintrc @eslint/js eslint-plugin-import eslint-import-resolver-typescript eslint-plugin-simple-import-sort eslint-plugin-unused-imports typescript-eslint prettier eslint-config-prettier eslint-plugin-prettier lint-staged globals\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"file-eslintconfigmjs",children:["File ",(0,i.jsx)(n.code,{children:"eslint.config.mjs"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="eslint.config.mjs"',children:'// @ts-check\nimport { FlatCompat } from "@eslint/eslintrc";\nimport eslint from "@eslint/js";\nimport eslintPluginPrettierRecommended from "eslint-plugin-prettier/recommended";\nimport globals from "globals";\nimport { dirname } from "path";\nimport tseslint from "typescript-eslint";\nimport { fileURLToPath } from "url";\nimport unusedImports from "eslint-plugin-unused-imports";\nimport simpleImportSort from "eslint-plugin-simple-import-sort";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n});\n\nexport default tseslint.config(\n  {\n    ignores: [\n      "node_modules/**/*",\n      "dist/**/*",\n      "coverage/**/*",\n      "build/**/*",\n      "eslint.config.mjs",\n    ],\n  },\n  {\n    files: ["src/**/*.ts"],\n    plugins: {\n      "simple-import-sort": simpleImportSort,\n      "unused-imports": unusedImports,\n    },\n    extends: [\n      eslint.configs.recommended,\n      eslintPluginPrettierRecommended,\n      ...tseslint.configs.recommendedTypeChecked,\n      ...compat.extends(\n        "plugin:import/recommended",\n        "plugin:import/typescript"\n      ),\n    ],\n    languageOptions: {\n      globals: {\n        ...globals.node,\n        ...globals.jest,\n      },\n      ecmaVersion: 5,\n      sourceType: "module",\n      parserOptions: {\n        projectService: true,\n        tsconfigRootDir: import.meta.dirname,\n      },\n    },\n    settings: {\n      "import/resolver": {\n        node: {\n          paths: ["./src"],\n          extensions: [".js", ".ts"],\n        },\n        typescript: {\n          project: "./tsconfig.json",\n        },\n      },\n    },\n    rules: {\n      "prettier/prettier": "error",\n      "no-unused-vars": "off",\n      "no-empty": "off",\n      "no-console": "off",\n      "@typescript-eslint/no-unused-vars": [\n        "error",\n        {\n          args: "all",\n          argsIgnorePattern: "^_",\n          caughtErrors: "all",\n          caughtErrorsIgnorePattern: "^_",\n          destructuredArrayIgnorePattern: "^_",\n          varsIgnorePattern: "^_",\n          ignoreRestSiblings: true,\n        },\n      ],\n      "@typescript-eslint/consistent-type-exports": "error",\n      "@typescript-eslint/no-explicit-any": "off",\n      "@typescript-eslint/no-empty-object-type": "off",\n      "@typescript-eslint/no-restricted-imports": [\n        "error",\n        { patterns: ["../*"] },\n      ],\n      "simple-import-sort/imports": [\n        "error",\n        {\n          groups: [["^(?!\\\\.)"], ["^\\\\u0000", "^\\\\.", "^src/"]],\n        },\n      ],\n      "simple-import-sort/exports": "error",\n      "import/newline-after-import": "error",\n      "unused-imports/no-unused-imports": "error",\n    },\n  }\n);\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"file-prettierrcjson",children:["File ",(0,i.jsx)(n.code,{children:".prettierrc.json"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title=".prettierrc.json"',children:'{\n  "printWidth": 80,\n  "tabWidth": 2,\n  "useTabs": false,\n  "semi": true,\n  "singleQuote": true,\n  "quoteProps": "as-needed",\n  "jsxSingleQuote": false,\n  "trailingComma": "none",\n  "bracketSameLine": false,\n  "arrowParens": "always",\n  "insertPragma": false,\n  "proseWrap": "preserve",\n  "htmlWhitespaceSensitivity": "css",\n  "embeddedLanguageFormatting": "auto",\n  "bracketSpacing": true,\n  "requirePragma": false,\n  "endOfLine": "auto"\n}\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"file-prettierignore",children:["File ",(0,i.jsx)(n.code,{children:".prettierignore"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plaintext",metastring:'title=".prettierignore"',children:"/node_modules\n/build\n/dist\npackage-lock.json\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"file-lintstagedrcmjs",children:["File ",(0,i.jsx)(n.code,{children:".lintstagedrc.mjs"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title=".lintstagedrc.mjs"',children:'export default {\n  "*": () => [\n    "prettier --write .",\n    "npm run type-check",\n    "eslint --fix --max-warnings=0 --no-warn-ignored",\n    "git add .",\n  ],\n};\n'})}),"\n",(0,i.jsx)(n.h2,{id:"c\u1eadp-nh\u1eadt-script-trong-packagejson",children:"C\u1eadp nh\u1eadt script trong package.json"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "name": "MyProject",\n  "version": "0.1.0",\n  "private": true,\n  "scripts": {\n    "dev": "nest start --watch",\n    "lint": "eslint --fix",\n    "type-check": "tsc --noEmit",\n    "format": "prettier --write .",\n    "build": "nest build",\n    "start:prod": "node dist/main",\n    "start:debug": "nest start --debug --watch",\n    "start": "nest start",\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "test:cov": "jest --coverage",\n    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",\n    "test:e2e": "jest --config ./test/jest-e2e.json"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"c\xe0i-\u0111\u1eb7t-husky",children:"C\xe0i \u0111\u1eb7t Husky"}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"L\u01b0u \xfd: tr\u01b0\u1edbc khi c\xe0i \u0111\u1eb7t, \u0111\u1ea3m b\u1ea3o r\u1eb1ng d\u1ef1 \xe1n c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi m\u1ed9t repository tr\xean Github ho\u1eb7c Gitlab"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"M\u1edf Git bash v\xe0 g\xf5 l\u1ec7nh sau:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx husky-init && npm install\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Trong file ",(0,i.jsx)(n.strong,{children:"pre-commit"})," thu\u1ed9c th\u01b0 m\u1ee5c ",(0,i.jsx)(n.strong,{children:".husky"})," \u0111\u01b0\u1ee3c t\u1ea1o ra:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:'title=".husky/pre-commit"',children:'#!/usr/bin/env sh\n. "$(dirname -- "$0")/_/husky.sh"\n\nnpx lint-staged\n'})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);